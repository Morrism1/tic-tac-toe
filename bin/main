#!/usr/bin/env ruby
require_relative "../lib/validation.rb"
require_relative "../lib/board.rb"
require_relative "../lib/user.rb"

require "pry"

puts "Welcome to the Tic-Tac-Toe game"

puts "\nPlayer one enter your name:"

player_one = User.get_user_name("one")
puts ""
player_one_symbol = User.get_user_symbol(player_one)
puts ""
puts "Player two enter your name:"

player_two = User.get_user_name("two")
puts ""
player_two_symbol = User.get_user_symbol(player_two)
puts ""

playing = true
new_board = [1, 2, 3, 4, 5, 6, 7, 8, 9]

puts ""
Board.display_board(new_board)

# while playing
turn_over = false

while turn_over == false
    puts "\n#{player_one} make a valid move:"
    player_one_move = Board.player_move(player_one)
    if Logic.valid_move?(player_one_move, new_board)
        new_board.insert(player_one_move,player_one_symbol)
        turn_over = true
    else
        turn_over = false
    end
end

puts ""
Board.display_board(new_board)

turn_over = false

while turn_over == false
    puts "\n#{player_two} make a valid move:"
    player_two_move = Board.player_move(player_two)
    if Logic.valid_move?(player_two_move, new_board)
        new_board.insert(player_two_move,player_two_symbol)
        turn_over = true
    else
        turn_over = false
    end
end

puts ""
Board.display_board(new_board)

# end


# puts "\nPlayer 1 (X), insert your name:"
# player_one = gets.chomp

# puts "\nPlayer 2 (O), insert your name:"
# player_two = gets.chomp

# puts "\n#{player_one} make your move"
# gets.chomp

# game_on = false
# # initial instructions for player
# player_move = 0
# while game_on == false
#   # telling player 1 to play
#   if player_move.odd?
#     player_move = gets.chomp
#     player_move.to_s
#     # check the move is valid
#     # if the move was valid the board will be changed
#     # Display board with updated data

#     # tell player 2 to play
#   elsif player_move.even?
#     puts "#{player_two} make a move"
#     player_move = gets.chomp
#     player_move.to_s
#     # check the move is valid
#     # if the move was valid the board will be changed
#     # Display board with updated data

#   end


#   game_on = true
#   #if the board has ben filled up and there is no match for a winning combination
#   #if any player matches a wining combination

#   # to stop the loop the game will be true to get the winner or a tie

#   puts ' It was a tie'
#   puts "#{player_one} Won"
#   puts "#{player_two} Won"

#   player_move = + 1

# end

# puts "\nCongrats #{player_two} you won!"
